<ul class="breadcrumb">
    <li><a href="#/">Home</a></li>
    <li>Cards</li>
</ul>

<h3>Cards</h3>

<p>
    <a href="" ng-click="vm.refresh()"><span class="glyphicon glyphicon-refresh"></span> Refresh</a>
</p>

<h4 ng-show="vm.loading">Loading...</h4>
<h4 ng-show="vm.errorLoading" class="alert alert-danger">Unable to load cards at this time.</h4>
<h4 ng-hide="vm.cards.length || vm.loading || vm.errorLoading" class="alert alert-info">There are no cards at this time.</h4>

<div ng-show="vm.cards.length && !vm.loading && !vm.errorLoading">
    <table class="table">
        <tr>
            <th>UUID</th>
            <th>Member</th>
            <th>Resources</th>
            <th ng-show="vm.isAdmin()"></th>
            <th ng-show="vm.isAdmin()"></th>
        </tr>
        <tr ng-repeat="card in vm.cards" ng-class="{ 'removing danger': card.removing }">
            <td>{{ card.uuid.substring(5) }}</td>
            <td>{{ card.member }}</td>
            <td>
                <div ng-repeat="resource in card.resources">
                    {{ vm.resourceNames[resource] }}
                </div>
            </td>
            <td ng-show="vm.isAdmin()">
                <a ng-href="#/editcard/{{ card._id }}"><span
                    class="glyphicon glyphicon-pencil"></span>
                    Edit</a>
            </td>
            <td ng-show="vm.isAdmin()">
                <a href="" ng-click='vm.removeCard(card)'><span
                    class="glyphicon glyphicon-remove">
                </span>
                Remove</a>
            </td>
        </tr>
    </table>
    <nav ng-hide="(vm.page == 1) && vm.lastPage">
        <ul class="pager">
            <li class="previous" ng-class="{disabled: vm.page == 1}"><a href="" ng-click="vm.prev()"><span aria-hidden="true">&larr;</span>Prev</a></li>
            <li class="next" ng-class="{disabled: vm.lastPage }"><a href="" ng-click="vm.next()">Next<span aria-hidden="true">&rarr;</span></a></li>
        </ul>
    </nav>
</div>
